const e=new MessageChannel,t=e.port1,s=e.port2,o=new Map;let n=0;t.onmessage=e=>{const t=e.data;if(o.has(t)){const e=o.get(t);o.delete(t),e()}};const a=e=>{if(!(e=>"function"==typeof e)(e))throw new Error("Not a function");const t=n;return++n,o.set(t,e),s.postMessage(t),t};importScripts("WasmTest.js"),self.Module().then(e=>{let t=5,s=0,n=0,r=void 0;const c=()=>{if(4===t){const o=performance.now(),p=e._runTest();s+=(performance.now()-o)/1e3/60,n++;const d=n/s;r=a(c),postMessage({state:t,score:d,result:p})}};self.addEventListener("message",e=>{var p;0===e.data&&4!==t&&(t=4,s=0,n=0,r=a(c)),1===e.data&&4===t&&(t=5,p=r,o.delete(p),r=void 0)}),postMessage({state:6})});
//# sourceMappingURL=worker.min.js.map
