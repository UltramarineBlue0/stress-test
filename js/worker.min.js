const e=new MessageChannel,t=e.port1,o=e.port2,s=new Map;let n=0;t.onmessage=e=>{const t=e.data;if(s.has(t)){const e=s.get(t);s.delete(t),e()}};const a=e=>{if(!(e=>"function"==typeof e)(e))throw new Error("Not a function");const t=n;return++n,s.set(t,e),o.postMessage(t),t};importScripts("WasmTest.js"),self.Module().then(e=>{let t=5,o=0,n=void 0,r=void 0;const c=()=>{4===t&&(o+=e._runTest(),n=a(c))};self.addEventListener("message",e=>{var d;console.log(e.data),0===e.data&&4!==t&&(t=4,o=0,n=a(c),r=performance.now()),1===e.data&&4===t&&(t=5,d=n,s.delete(d),n=void 0,postMessage(o),console.log("Test duration: "+(performance.now()-r)))}),postMessage(6)});
//# sourceMappingURL=worker.min.js.map
